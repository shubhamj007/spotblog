!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@tinymce/tinymce-angular",["exports","@angular/forms","@angular/core","@angular/common"],e):e((t.tinymce=t.tinymce||{},t.tinymce["tinymce-angular"]={}),t.ng.forms,t.ng.core,t.ng.common)}(this,function(t,e,n,h){"use strict";var o,i=function(){function t(){this.onBeforePaste=new n.EventEmitter,this.onBlur=new n.EventEmitter,this.onClick=new n.EventEmitter,this.onContextMenu=new n.EventEmitter,this.onCopy=new n.EventEmitter,this.onCut=new n.EventEmitter,this.onDblclick=new n.EventEmitter,this.onDrag=new n.EventEmitter,this.onDragDrop=new n.EventEmitter,this.onDragEnd=new n.EventEmitter,this.onDragGesture=new n.EventEmitter,this.onDragOver=new n.EventEmitter,this.onDrop=new n.EventEmitter,this.onFocus=new n.EventEmitter,this.onFocusIn=new n.EventEmitter,this.onFocusOut=new n.EventEmitter,this.onKeyDown=new n.EventEmitter,this.onKeyPress=new n.EventEmitter,this.onKeyUp=new n.EventEmitter,this.onMouseDown=new n.EventEmitter,this.onMouseEnter=new n.EventEmitter,this.onMouseLeave=new n.EventEmitter,this.onMouseMove=new n.EventEmitter,this.onMouseOut=new n.EventEmitter,this.onMouseOver=new n.EventEmitter,this.onMouseUp=new n.EventEmitter,this.onPaste=new n.EventEmitter,this.onSelectionChange=new n.EventEmitter,this.onActivate=new n.EventEmitter,this.onAddUndo=new n.EventEmitter,this.onBeforeAddUndo=new n.EventEmitter,this.onBeforeExecCommand=new n.EventEmitter,this.onBeforeGetContent=new n.EventEmitter,this.onBeforeRenderUI=new n.EventEmitter,this.onBeforeSetContent=new n.EventEmitter,this.onChange=new n.EventEmitter,this.onClearUndos=new n.EventEmitter,this.onDeactivate=new n.EventEmitter,this.onDirty=new n.EventEmitter,this.onExecCommand=new n.EventEmitter,this.onGetContent=new n.EventEmitter,this.onHide=new n.EventEmitter,this.onInit=new n.EventEmitter,this.onLoadContent=new n.EventEmitter,this.onNodeChange=new n.EventEmitter,this.onPostProcess=new n.EventEmitter,this.onPostRender=new n.EventEmitter,this.onPreInit=new n.EventEmitter,this.onPreProcess=new n.EventEmitter,this.onProgressState=new n.EventEmitter,this.onRedo=new n.EventEmitter,this.onRemove=new n.EventEmitter,this.onReset=new n.EventEmitter,this.onSaveContent=new n.EventEmitter,this.onSetAttrib=new n.EventEmitter,this.onObjectResizeStart=new n.EventEmitter,this.onObjectResized=new n.EventEmitter,this.onObjectSelected=new n.EventEmitter,this.onSetContent=new n.EventEmitter,this.onShow=new n.EventEmitter,this.onSubmit=new n.EventEmitter,this.onUndo=new n.EventEmitter,this.onVisualAid=new n.EventEmitter}return t.propDecorators={onBeforePaste:[{type:n.Output}],onBlur:[{type:n.Output}],onClick:[{type:n.Output}],onContextMenu:[{type:n.Output}],onCopy:[{type:n.Output}],onCut:[{type:n.Output}],onDblclick:[{type:n.Output}],onDrag:[{type:n.Output}],onDragDrop:[{type:n.Output}],onDragEnd:[{type:n.Output}],onDragGesture:[{type:n.Output}],onDragOver:[{type:n.Output}],onDrop:[{type:n.Output}],onFocus:[{type:n.Output}],onFocusIn:[{type:n.Output}],onFocusOut:[{type:n.Output}],onKeyDown:[{type:n.Output}],onKeyPress:[{type:n.Output}],onKeyUp:[{type:n.Output}],onMouseDown:[{type:n.Output}],onMouseEnter:[{type:n.Output}],onMouseLeave:[{type:n.Output}],onMouseMove:[{type:n.Output}],onMouseOut:[{type:n.Output}],onMouseOver:[{type:n.Output}],onMouseUp:[{type:n.Output}],onPaste:[{type:n.Output}],onSelectionChange:[{type:n.Output}],onActivate:[{type:n.Output}],onAddUndo:[{type:n.Output}],onBeforeAddUndo:[{type:n.Output}],onBeforeExecCommand:[{type:n.Output}],onBeforeGetContent:[{type:n.Output}],onBeforeRenderUI:[{type:n.Output}],onBeforeSetContent:[{type:n.Output}],onChange:[{type:n.Output}],onClearUndos:[{type:n.Output}],onDeactivate:[{type:n.Output}],onDirty:[{type:n.Output}],onExecCommand:[{type:n.Output}],onGetContent:[{type:n.Output}],onHide:[{type:n.Output}],onInit:[{type:n.Output}],onLoadContent:[{type:n.Output}],onNodeChange:[{type:n.Output}],onPostProcess:[{type:n.Output}],onPostRender:[{type:n.Output}],onPreInit:[{type:n.Output}],onPreProcess:[{type:n.Output}],onProgressState:[{type:n.Output}],onRedo:[{type:n.Output}],onRemove:[{type:n.Output}],onReset:[{type:n.Output}],onSaveContent:[{type:n.Output}],onSetAttrib:[{type:n.Output}],onObjectResizeStart:[{type:n.Output}],onObjectResized:[{type:n.Output}],onObjectSelected:[{type:n.Output}],onSetContent:[{type:n.Output}],onShow:[{type:n.Output}],onSubmit:[{type:n.Output}],onUndo:[{type:n.Output}],onVisualAid:[{type:n.Output}]},t}(),u=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],r=0,l=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++r+String(e)},s=function(t){return void 0!==t&&"textarea"===t.tagName.toLowerCase()},p=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},y=function(){var t="undefined"!=typeof window?window:undefined;return t&&t.tinymce?t.tinymce:null},a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},E={listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1},d={provide:e.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return m}),multi:!0},m=function(i){function t(t,e,n){var o=i.call(this)||this;return o.platformId=n,o.element=undefined,o.cloudChannel="5",o.apiKey="",o.id="",o.toolbar=null,o.onTouchedCallback=function(){},o.onChangeCallback=function(t){},o.elementRef=t,o.ngZone=e,o.initialise=o.initialise.bind(o),o}return a(t,i),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this.editor&&this.editor.initialized&&this.editor.setMode(t?"readonly":"design")},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.initialValue=t||this.initialValue,t=t||"",this.editor&&this.editor.initialized&&"string"==typeof t&&this.editor.setContent(t)},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.editor?this.editor.setMode(t?"readonly":"design"):t&&(this.init=c({},this.init,{readonly:!0}))},t.prototype.ngAfterViewInit=function(){if(h.isPlatformBrowser(this.platformId))if(this.id=this.id||l("tiny-angular"),this.inline="undefined"!=typeof this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==y())this.initialise();else if(this.element&&this.element.ownerDocument){var t=this.element.ownerDocument,e=this.cloudChannel,n=this.apiKey;o=E,i=t,r="https://cloud.tinymce.com/"+e+"/tinymce.min.js?apiKey="+n,u=this.initialise,o.scriptLoaded?u():(o.listeners.push(u),i.getElementById(o.scriptId)||(s=o.scriptId,a=r,c=function(){o.listeners.forEach(function(t){return t()}),o.scriptLoaded=!0},(d=(p=i).createElement("script")).type="application/javascript",d.id=s,d.addEventListener("load",c),d.src=a,p.head&&p.head.appendChild(d)))}var o,i,r,u,s,p,a,c,d},t.prototype.ngOnDestroy=function(){null!==y()&&y().remove(this.editor)},t.prototype.createElement=function(){var t="string"==typeof this.tagName?this.tagName:"div";this.element=document.createElement(this.inline?t:"textarea"),this.element&&(this.element.id=this.id,s(this.element)&&(this.element.style.visibility="hidden"),this.elementRef.nativeElement.appendChild(this.element))},t.prototype.initialise=function(){var t,e,n=this,o=c({},this.init,{target:this.element,inline:this.inline,readonly:this.disabled,plugins:(t=this.init&&this.init.plugins,e=this.plugins,p(t).concat(p(e))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:function(e){(n.editor=e).on("init",function(t){n.initEditor(t,e)}),n.init&&"function"==typeof n.init.setup&&n.init.setup(e)}});s(this.element)&&(this.element.style.visibility=""),this.ngZone.runOutsideAngular(function(){y().init(o)})},t.prototype.initEditor=function(t,e){var n,o,i,r=this;"string"==typeof this.initialValue&&this.ngZone.run(function(){return e.setContent(r.initialValue)}),e.on("blur",function(){return r.ngZone.run(function(){return r.onTouchedCallback()})}),e.on("change keyup undo redo",function(){return r.ngZone.run(function(){return r.onChangeCallback(e.getContent())})}),n=this,o=e,i=t,u.forEach(function(t){var e=n[t];0<e.observers.length&&("onInit"===t?n.ngZone.run(function(){return e.emit({event:i,editor:o})}):o.on(t.substring(2),n.ngZone.run(function(){return function(t){return e.emit({event:t,editor:o})}})))})},t.decorators=[{type:n.Component,args:[{selector:"editor",template:"<ng-template></ng-template>",providers:[d],styles:[":host { display: block; }"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.NgZone},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},t.propDecorators={cloudChannel:[{type:n.Input}],apiKey:[{type:n.Input}],init:[{type:n.Input}],id:[{type:n.Input}],initialValue:[{type:n.Input}],inline:[{type:n.Input}],tagName:[{type:n.Input}],plugins:[{type:n.Input}],toolbar:[{type:n.Input}],disabled:[{type:n.Input}]},t}(i),v=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[h.CommonModule,e.FormsModule],declarations:[m],exports:[m]}]}],t}();t.ɵa=i,t.EditorComponent=m,t.EditorModule=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=tinymce-tinymce-angular.umd.min.js.map